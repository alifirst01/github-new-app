(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trending"],{"27ac":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tl mt4 w-70 w-60-m w-50-l center"},[0==e.loading?n("div",{staticClass:"center pv6 tc",attrs:{id:"trending-loading"}},[n("h1",{staticClass:"f5 f4-ns"},[e._v(e._s(e.loadingMessage.m1))]),"m2"in e.loadingMessage?n("h3",{staticClass:"f6 f5-ns"},[e._v(e._s(e.loadingMessage.m2))]):e._e()]):1==e.loading?n("div",{staticClass:"pv6 red",attrs:{id:"trending-error"}},[n("p",{staticClass:"red center w-60-ns"},[e._v(e._s(e.loadingMessage.m1)+" ")])]):n("div",{attrs:{id:"trending-content"}},[n("h1",{staticClass:"f2 f1-ns"},[e._v("GitHub Trending repos")]),n("h3",{staticClass:"f4 f3-ns ma0 mt3"},[e._v("Explore the top starred Typescript public repositories in the past 24 hours.")]),n("div",{staticClass:"ma0 mt2 tr"},[n("img",{staticClass:"pointer",attrs:{src:r("5bc5")},on:{click:e.getTrendingRepos}}),n("p",{staticClass:"f7"},[e._v("Last Updated: "+e._s(e.timeDiff))])]),e.trendingRepos.length>0?n("div",{staticClass:"background mt3 mb3"},[n("ul",{staticClass:"list ph2"},e._l(e.trendingRepos,function(e){return n("repo-list-item",{attrs:{repo:e}})}),1)]):e._e()])])},s=[],a=(r("96cf"),r("3b8d")),i=r("d225"),o=r("b0b4"),c=r("308d"),u=r("6bb5"),l=r("4e2b"),p=r("9ab4"),f=r("60a3"),d=function(){function e(t){Object(i["a"])(this,e),this.trendingRepository=t}return Object(o["a"])(e,[{key:"getTrendingRepos",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.trendingRepository.getRepos().then(function(e){var t;return t=e.error?e.statusCode>=500?{error:new Error("Sorry, system is down. Check back later and try again.")}:{error:new Error("An error occurred while fetching the trending repositories from Github. Try again later....")}:{repos:e.response},Promise.resolve(t)}));case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),g=(r("7f7f"),r("ac6a"),function(){function e(t){Object(i["a"])(this,e),this.axios=t}return Object(o["a"])(e,[{key:"getRepos",value:function(){var e="https://api.github.com/search/repositories",t=new Date((new Date).getTime()-864e5),r={q:"typescript",sort:"stars",order:"desc",pushed:t+"..*"};return this.axios.get(e,{params:r}).then(function(e){try{var t=[];return e.data.items.forEach(function(e){t.push({url:e.html_url,name:e.name,description:e.description,username:e.owner.login,unameUrl:e.owner.html_url,avatarUrl:e.owner.avatar_url})}),Promise.resolve({response:t})}catch(r){throw r}}).catch(function(e){var t;return t=e.response?{statusCode:e.response.status?e.response.status:400,error:new Error(e.response.data.message?e.response.data.message:"Server responded with an error")}:{statusCode:500,error:new Error(e.message?e.message:"")},Promise.resolve(t)})}}]),e}()),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"w-100 cf"},[r("div",{staticClass:"fl w-10 pv3 dn db-ns"},[r("img",{staticClass:"br4-l w2-m h2-m w3-l h3-l",attrs:{src:e.repo.avatarUrl}})]),r("div",{staticClass:"fr-ns w-90-ns pv2 pv3-ns pl1 pl3-ns"},[r("h3-link",[r("a",{staticClass:"f4 f3-ns",attrs:{href:e.repo.unameUrl}},[e._v(e._s(e.repo.username))]),r("span",{staticClass:"black f4"},[e._v(" / ")]),r("a",{staticClass:"f4 f3-ns",attrs:{href:e.repo.url}},[e._v(e._s(e.repo.name))])]),r("p",{staticClass:"f6 f5-ns"},[e._v(e._s(e.repo.description)+"  ")])],1)])},m=[],b=r("2b0e"),v=b["a"].extend({name:"RepoListItem",props:["repo"]}),w=v,y=r("2877"),C=Object(y["a"])(w,h,m,!1,null,null,null),_=C.exports,j=(r("6b54"),r("2fe1")),R=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.timeDiff="",e.lastUpdated=new Date,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"updateTimeDiff",value:function(){var e=Math.floor((new Date-this.lastUpdated)/1e3),t=Math.floor(e/60),r=Math.floor(t/60);this.timeDiff=r>0?r.toString()+(1==r?" hr ":" hrs ")+"ago":t>0?t.toString()+(1==t?" min ":" mins ")+"ago":"now"}}]),t}(b["a"]);R=p["a"]([j["b"]],R);var O=R,k=r("bc3a"),T=r.n(k),x=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.timer="",e.loading=0,e.loadingMessage={},e.trendingRepos=[],e.controller=new d(new g(T.a.create({}))),e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.timer=setInterval(this.updateTimeDiff,65e3)}},{key:"beforeMount",value:function(){this.getTrendingRepos()}},{key:"beforeDestroy",value:function(){clearInterval(this.timer)}},{key:"onChange",value:function(e,t){this.updateTimeDiff()}},{key:"getTrendingRepos",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=0,this.loadingMessage={m1:"Fetching Trending Repositories"},this.$Progress.start(),e.next=5,this.controller.getTrendingRepos().then(function(e){e.error?(t.loading=1,t.loadingMessage={m1:e.error.message},t.$Progress.fail()):(t.trendingRepos=e.repos,t.loading=2,t.$Progress.finish(),t.lastUpdated=new Date)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(Object(f["b"])(O));p["a"]([Object(f["d"])("lastUpdated",{immediate:!0})],x.prototype,"onChange",null),x=p["a"]([Object(f["a"])({name:"trending",components:{RepoListItem:_}})],x);var D=x,M=D,E=Object(y["a"])(M,n,s,!1,null,null,null);t["default"]=E.exports},3846:function(e,t,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"60a3":function(e,t,r){"use strict";r.d(t,"d",function(){return a});var n=r("2b0e");r.d(t,"c",function(){return n["a"]});var s=r("2fe1");r.d(t,"a",function(){return s["b"]}),r.d(t,"b",function(){return s["c"]});"undefined"!==typeof Reflect&&Reflect.getMetadata;function a(e,t){void 0===t&&(t={});var r=t.deep,n=void 0!==r&&r,a=t.immediate,i=void 0!==a&&a;return Object(s["a"])(function(t,r){"object"!==typeof t.watch&&(t.watch=Object.create(null));var s=t.watch;"object"!==typeof s[e]||Array.isArray(s[e])?"undefined"===typeof s[e]&&(s[e]=[]):s[e]=[s[e]],s[e].push({handler:r,deep:n,immediate:i})})}},"6b54":function(e,t,r){"use strict";r("3846");var n=r("cb7c"),s=r("0bfb"),a=r("9e1e"),i="toString",o=/./[i],c=function(e){r("2aba")(RegExp.prototype,i,e,!0)};r("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?c(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?s.call(e):void 0)}):o.name!=i&&c(function(){return o.call(this)})}}]);
//# sourceMappingURL=trending.d713177c.js.map